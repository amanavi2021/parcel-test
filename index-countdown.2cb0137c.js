function _checkPrivateRedeclaration(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classApplyDescriptorGet(t,e){return e.get?e.get.call(t):e.value}function _classApplyDescriptorSet(t,e,a){if(e.set)e.set.call(t,a);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=a}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classExtractFieldDescriptor(t,e,a){if(!e.has(t))throw new TypeError("attempted to "+a+" private field on non-instance");return e.get(t)}function _classPrivateFieldGet(t,e){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,e,"get"))}function _classPrivateFieldInit(t,e,a){_checkPrivateRedeclaration(t,e),e.set(t,a)}function _classPrivateFieldSet(t,e,a){return _classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,e,"set"),a),a}function _classPrivateMethodGet(t,e,a){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return a}function _classPrivateMethodInit(t,e){_checkPrivateRedeclaration(t,e),e.add(t)}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}var _intervalID=new WeakMap,_days=new WeakMap,_hours=new WeakMap,_minutes=new WeakMap,_seconds=new WeakMap,_onChangeCallback=new WeakMap,_calculateData=new WeakSet,_updateData=new WeakSet,_onChangeData=new WeakSet,Countdown=function(){"use strict";function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onChange;_classCallCheck(this,t),_classPrivateMethodInit(this,_calculateData),_classPrivateMethodInit(this,_updateData),_classPrivateMethodInit(this,_onChangeData),_classPrivateFieldInit(this,_intervalID,{writable:!0,value:null}),_classPrivateFieldInit(this,_days,{writable:!0,value:0}),_classPrivateFieldInit(this,_hours,{writable:!0,value:0}),_classPrivateFieldInit(this,_minutes,{writable:!0,value:0}),_classPrivateFieldInit(this,_seconds,{writable:!0,value:0}),_classPrivateFieldInit(this,_onChangeCallback,{writable:!0,value:function(){}}),e&&_classPrivateFieldSet(this,_onChangeCallback,e)}return _createClass(t,[{key:"start",value:function(e){var a=this;t.isDateValid(e)?(_classPrivateMethodGet(this,_calculateData,calculateData).call(this,e),_classPrivateFieldSet(this,_intervalID,setInterval((function(){return _classPrivateMethodGet(a,_calculateData,calculateData).call(a,e)}),1e3))):console.error("year is not a valid date")}},{key:"stop",value:function(){clearInterval(_classPrivateFieldGet(this,_intervalID))}}],[{key:"formatValue",value:function(t){return t.toString().padStart(2,"0")}},{key:"isDateValid",value:function(t){return!isNaN(Date.parse(t))}}]),t}();function calculateData(t){var e=new Date(t,0)-Date.now();if(e>0){var a=Math.floor(e/864e5),n=Math.floor(e%864e5/36e5),s=Math.floor(e%36e5/6e4),o=Math.floor(e%6e4/1e3);_classPrivateMethodGet(this,_updateData,updateData).call(this,{days:a,hours:n,minutes:s,seconds:o})}else this.stop()}function updateData(t){var e=t.days,a=t.hours,n=t.minutes,s=t.seconds;_classPrivateFieldSet(this,_days,e),_classPrivateFieldSet(this,_hours,a),_classPrivateFieldSet(this,_minutes,n),_classPrivateFieldSet(this,_seconds,s),_classPrivateMethodGet(this,_onChangeData,onChangeData).call(this)}function onChangeData(){_classPrivateFieldGet(this,_onChangeCallback).call(this,{days:Countdown.formatValue(_classPrivateFieldGet(this,_days)),hours:Countdown.formatValue(_classPrivateFieldGet(this,_hours)),minutes:Countdown.formatValue(_classPrivateFieldGet(this,_minutes)),seconds:Countdown.formatValue(_classPrivateFieldGet(this,_seconds))})}var markup='\n<section class="countdown">\n    <article id="js-countdown" class="countdown__timer">\n        <section class="countdown__value countdown__days">00</section>\n        <section class="countdown__value">:</section>\n        <section class="countdown__value countdown__hours">00</section>\n        <section class="countdown__value">:</section>\n        <section class="countdown__value countdown__minutes">00</section>\n        <section class="countdown__value">:</section>\n        <section class="countdown__value countdown__seconds">00</section>\n    </article>\n    <form class="countdown__actions" data-action="start">\n        <input type="number" class="countdown_datepicker" min="2024" max="2099" name="year" value=\'2024\'>\n        <button type="submit" class="countdown__toggle">start</button>\n    </form>\n</section>\n';document.body.innerHTML=markup;var countdown=new Countdown({onChange:onCountdownChange}),ref={actionForm:document.querySelector("form.countdown__actions"),days:document.querySelector(".countdown__days"),hours:document.querySelector(".countdown__hours"),minutes:document.querySelector(".countdown__minutes"),seconds:document.querySelector(".countdown__seconds")};function onCountdownChange(t){var e=t.days,a=t.hours,n=t.minutes,s=t.seconds;ref.days.textContent=e,ref.hours.textContent=a,ref.minutes.textContent=n,ref.seconds.textContent=s}ref.actionForm.addEventListener("submit",(function(t){t.preventDefault();var e=t.currentTarget.querySelector('button[type="submit"]'),a=t.currentTarget,n=a.year,s=a.dataset;console.log(t.currentTarget.year.value),"start"===t.currentTarget.dataset.action?(e.textContent="stop",s.action="stop",n.disabled=!0,countdown.start(n.value)):(e.textContent="start",s.action="start",n.disabled=!1,countdown.stop())}));
//# sourceMappingURL=index-countdown.2cb0137c.js.map
