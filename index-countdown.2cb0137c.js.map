{"mappings":"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","sources":["src/countdown.js"],"sourcesContent":["class Countdown {\n    #intervalID = null;\n    #days = 0;\n    #hours = 0;\n    #minutes = 0;\n    #seconds = 0;\n    #onChangeCallback= ()=>{};\n\n    constructor({onChange} = {}) {\n        if(onChange) {\n            this.#onChangeCallback = onChange;\n        }\n        }\n    #calculateData(year) {\n        const delta = new Date(year,0) - Date.now();\n        if (delta > 0) {\n            const days = Math.floor(delta/(1000*60*60*24));\n            const hours =  Math.floor((delta %(1000*60*60*24))/(1000*60*60));\n            const minutes =  Math.floor((delta %(1000*60*60))/(1000*60));\n            const seconds =  Math.floor((delta %(1000*60))/1000); \n    \n            this.#updateData({ days, hours, minutes, seconds });\n        } else {\n            this.stop();\n        }\n\n   \n                 \n    }\n\n    #updateData({ days, hours, minutes, seconds }) {\n        this.#days=days;\n        this.#hours = hours;\n        this.#minutes = minutes;\n        this.#seconds = seconds;\n     this.#onChangeData();\n    }\n\n    #onChangeData() {\n        this.#onChangeCallback({\n            days: Countdown.formatValue(this.#days), \n            hours: Countdown.formatValue(this.#hours), \n            minutes: Countdown.formatValue(this.#minutes),\n            seconds: Countdown.formatValue(this.#seconds),\n            });  \n     }\n\n\n    start(year) {\n        const isStartDateValid = Countdown.isDateValid(year);\n        if (!isStartDateValid) {\n            console.error('year is not a valid date');\n            return;\n        }\n\n        this.#calculateData(year);\n        this.#intervalID = setInterval(() => this.#calculateData(year), 1000);\n\n    }\n\n    stop() {\n        clearInterval(this.#intervalID);\n    }\n\n    static formatValue(value) {\n        return value.toString().padStart(2,'0');\n    }\n\n    static isDateValid(dateString) {\n        return !isNaN(Date.parse(dateString));\n       }\n};\n\n\nconst markup= `\n<section class=\"countdown\">\n    <article id=\"js-countdown\" class=\"countdown__timer\">\n        <section class=\"countdown__value countdown__days\">00</section>\n        <section class=\"countdown__value\">:</section>\n        <section class=\"countdown__value countdown__hours\">00</section>\n        <section class=\"countdown__value\">:</section>\n        <section class=\"countdown__value countdown__minutes\">00</section>\n        <section class=\"countdown__value\">:</section>\n        <section class=\"countdown__value countdown__seconds\">00</section>\n    </article>\n    <form class=\"countdown__actions\" data-action=\"start\">\n        <input type=\"number\" class=\"countdown_datepicker\" min=\"2024\" max=\"2099\" name=\"year\" value='2024'>\n        <button type=\"submit\" class=\"countdown__toggle\">start</button>\n    </form>\n</section>\n`;\n\n// add to DOM\ndocument.body.innerHTML = markup;\nconst countdown = new Countdown({onChange:  onCountdownChange});\n\n\n//add refs\nconst ref={\n    actionForm: document.querySelector('form.countdown__actions'),\n    days: document.querySelector('.countdown__days'),\n    hours: document.querySelector('.countdown__hours'),\n    minutes: document.querySelector('.countdown__minutes'),\n    seconds: document.querySelector('.countdown__seconds'),\n    \n}\n\nref.actionForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const submitBtn = e.currentTarget.querySelector('button[type=\"submit\"]');\n    const { year, dataset } = e.currentTarget;\n\n    console.log(e.currentTarget.year.value);\n    if (e.currentTarget.dataset.action === 'start') {\n        submitBtn.textContent= 'stop';\n        dataset.action = 'stop';\n        year.disabled = true;\n        countdown.start(year.value);\n    } else {\n        submitBtn.textContent= 'start';\n        dataset.action = 'start';\n        year.disabled = false;\n        countdown.stop();\n    }\n    \n\n\n});\n\nfunction onCountdownChange({days, hours, minutes, seconds}) {\nref.days.textContent = days;\nref.hours.textContent = hours;\nref.minutes.textContent = minutes;\nref.seconds.textContent = seconds;\n}\n\n"],"names":["_checkPrivateRedeclaration","obj","privateCollection","_intervalID","WeakMap","_days","_hours","_minutes","_seconds","_onChangeCallback","_calculateData","WeakSet","_updateData","_onChangeData","Countdown","onChange","arguments","length","_classPrivateMethodInit","this","_classPrivateFieldInit","_classPrivateFieldSet","key","year","isDateValid","_classPrivateMethodGet","calculateData","call","setInterval","_this","console","error","clearInterval","_classPrivateFieldGet","value","toString","padStart","dateString","isNaN","Date","parse","delta","now","days","Math","floor","hours","minutes","seconds","updateData","stop","param","onChangeData","formatValue","markup","document","body","innerHTML","countdown","onCountdownChange","ref","actionForm","querySelector","textContent","addEventListener","e","preventDefault","submitBtn","currentTarget","_currentTarget","dataset","log","action","disabled","start"],"version":3,"file":"index-countdown.2cb0137c.js.map"}